(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{"9oVN":function(t,e,n){"use strict";n.d(e,"n",(function(){return r})),n.d(e,"r",(function(){return l})),n.d(e,"j",(function(){return a})),n.d(e,"i",(function(){return c})),n.d(e,"l",(function(){return u})),n.d(e,"d",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"q",(function(){return d})),n.d(e,"k",(function(){return m})),n.d(e,"p",(function(){return b})),n.d(e,"c",(function(){return y})),n.d(e,"e",(function(){return p})),n.d(e,"m",(function(){return g})),n.d(e,"o",(function(){return _})),n.d(e,"f",(function(){return v})),n.d(e,"h",(function(){return S})),n.d(e,"a",(function(){return C})),n.d(e,"g",(function(){return O}));var o=n("G4qV"),r=function(t){return t.symbolLists.lists},s=function(t){return t.widgets},i=function(t,e){return e},l=Object(o.a)([s,i],(function(t,e){return t[e]||{}})),a=Object(o.a)(l,(function(t){return t.selectedSymbols||[]})),c=Object(o.a)(l,(function(t){return t.scrollToId})),u=Object(o.a)(l,(function(t){return t.sorting||null})),h=Object(o.a)(l,(function(t){return t.highlightedSymbols||null})),f=Object(o.a)(l,(function(t){return t.columns})),d=Object(o.a)(l,(function(t){return t.options||{}})),m=Object(o.a)([d,function(t){return t.isAuthenticated}],(function(t,e){return t.shouldDisplayPositions&&e})),b=Object(o.a)(r,(function(t){return Object.values(t).filter((function(t){return void 0!==t&&!t.isHotlist}))})),y=Object(o.a)([r,s,i],(function(t,e,n){var o=e[n];if(void 0===o)return null;var r=o.listId;return null===r?null:t[r]||null})),p=Object(o.a)([l,y],(function(t,e){return null===e||t.isLoading||!1})),g=Object(o.a)([r,function(t,e){return e}],(function(t,e){return t[e]})),_=Object(o.a)(y,(function(t){return null!==t?t.symbols:[]})),v=Object(o.a)(y,(function(t){return(null==t?void 0:t.type)||null})),S=Object(o.a)([function(t){return t.positions},function(t,e){return e}],(function(t,e){return t[e]})),C=function(t){return t.activeSymbolList};function O(){var t=Object(o.a)([function(t,e){return e.widgetId},function(t){return t.widgets}],(function(t,e){return e[t]})),e=Object(o.a)(t,(function(t){return t.selectedSymbols||[]})),n=Object(o.a)(e,(function(t){return new Set(t)}));return Object(o.a)([n,function(t,e){return e.symbol}],(function(t,e){return t.size>1&&t.has(e)}))}},G4qV:function(t,e,n){"use strict";function o(t,e){return t===e}function r(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var o=e.length,r=0;r<o;r++)if(!t(e[r],n[r]))return!1;return!0}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=null,s=null;return function(){return r(e,n,arguments)||(s=t.apply(null,arguments)),n=arguments,s}}function i(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return l}));var l=function(t){
for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];var s=0,l=o.pop(),a=i(o),c=t.apply(void 0,[function(){return s++,l.apply(null,arguments)}].concat(n)),u=t((function(){for(var t=[],e=a.length,n=0;n<e;n++)t.push(a[n].apply(null,arguments));return c.apply(null,t)}));return u.resultFunc=l,u.dependencies=a,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}(s)},"p+vD":function(t,e,n){"use strict";n.r(e),n.d(e,"getAllWatchLists",(function(){return d})),n.d(e,"getColoredWatchLists",(function(){return m})),n.d(e,"getCustomWatchLists",(function(){return b})),n.d(e,"getSymbols",(function(){return y})),n.d(e,"renameWatchList",(function(){return p})),n.d(e,"removeWatchList",(function(){return g})),n.d(e,"addSymbols",(function(){return _})),n.d(e,"removeSymbols",(function(){return v})),n.d(e,"replaceSymbols",(function(){return S})),n.d(e,"createWatchList",(function(){return C})),n.d(e,"putWatchList",(function(){return O})),n.d(e,"exportList",(function(){return j})),n.d(e,"setActive",(function(){return w})),n.d(e,"getActive",(function(){return L}));var o=n("mrSG"),r=n("YFKU"),s=n("Eyy1"),i=n("BHQF"),l=n("AXL+"),a=n("+GxX"),c=n("fZEr"),u={title:Object(r.t)("Watchlists maintenance"),text:Object(r.t)("We were doing a quick bit of work on the watchlists. Please reload your page.")};function h(t){var e=Object(o.a)({},t);return e.title=e.name,delete e.name,Object(o.a)(Object(o.a)({},e),{id:"colored"===e.type?Object(s.ensureNotNull)(e.color):e.id,isHotlist:!1})}function f(t){return t.ok?t.json():t.json().then((function(t){throw new Error(t.detail||"not ok")}))}function d(){return Object(i.fetch)("/api/v1/symbols_list/all/",{credentials:"include"}).then(f).then((function(t){return t.filter((function(t){return t.symbols.length>0}))})).then((function(t){return t.map(h)}))}function m(){return Object(i.fetch)("/api/v1/symbols_list/colored/",{credentials:"same-origin"}).then(f).then((function(t){return t.map(h)}))}function b(){return Object(i.fetch)("/api/v1/symbols_list/custom/",{credentials:"same-origin"}).then(f).then((function(t){return t.map(h)}))}function y(t){return Object(i.fetch)("/api/v1/symbols_list/"+t.type+"/"+t.id+"/",{credentials:"same-origin"}).then(f)}function p(t,e){return"colored"===t.type&&Object(a.isFeatureEnabled)("disable_colored_lists")?(Object(c.showWarning)(u),Promise.resolve("")):Object(i.fetch)("/api/v1/symbols_list/"+t.type+"/"+t.id+"/rename/",{method:"POST",credentials:"same-origin",body:JSON.stringify({name:e}),headers:{"Content-Type":"application/json"}}).then(f)}function g(t){return"colored"===t.type&&Object(a.isFeatureEnabled)("disable_colored_lists")?(Object(c.showWarning)(u),Promise.resolve()):Object(i.fetch)("/api/v1/symbols_list/"+t.type+"/"+t.id+"/",{method:"DELETE",credentials:"same-origin"})}function _(t,e){return"colored"===t.type&&Object(a.isFeatureEnabled)("disable_colored_lists")?(Object(c.showWarning)(u),
Promise.resolve([])):Object(i.fetch)("/api/v1/symbols_list/"+t.type+"/"+t.id+"/append/",{method:"POST",credentials:"same-origin",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(f)}function v(t,e){return"colored"===t.type&&Object(a.isFeatureEnabled)("disable_colored_lists")?(Object(c.showWarning)(u),Promise.resolve([])):Object(i.fetch)("/api/v1/symbols_list/"+t.type+"/"+t.id+"/remove/",{method:"POST",credentials:"same-origin",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(f)}function S(t,e){return"colored"===t.type&&Object(a.isFeatureEnabled)("disable_colored_lists")?(Object(c.showWarning)(u),Promise.resolve()):0===e.length&&"colored"===t.type?g(t):Object(i.fetch)("/api/v1/symbols_list/"+t.type+"/"+t.id+"/replace/?unsafe=true",{method:"POST",credentials:"same-origin",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(f)}function C(t){var e=Object(o.a)(Object(o.a)({},t),{name:t.title});return delete e.title,Object(i.fetch)("/api/v1/symbols_list/custom/",{method:"POST",credentials:"same-origin",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(f).then(h)}function O(t){throw new Error("not implemented")}function j(t){Object(l.saveTextFile)(t.title+".txt",t.symbols.join(","))}function w(t){return Object(i.fetch)("/api/v1/symbols_list/active/"+t+"/",{method:"POST",credentials:"same-origin"})}function L(){return Object(i.fetch)("/api/v1/symbols_list/active/",{method:"GET",credentials:"same-origin"}).then(f).then(h)}},tEuG:function(t,e,n){"use strict";n("bSeV");var o,r=n("YFKU"),s=n("mrSG"),i=n("Eyy1"),l=n("BHQF"),a=n("p+vD"),c=n("txPx"),u=n("+GxX"),h=n("fZEr"),f=Object(c.getLogger)("MarkedSymbols.Api"),d={title:Object(r.t)("Watchlists maintenance"),text:Object(r.t)("We were doing a quick bit of work on the watchlists. Please reload your page.")},m=function(){function t(){}return t.prototype.getColoredLists=function(){return Object(a.getColoredWatchLists)()},t.prototype.removeSymbols=function(t,e){return Object(u.isFeatureEnabled)("disable_colored_lists")?(Object(h.showWarning)(d),Promise.resolve()):0===e.length?Promise.resolve():(f.logNormal("Sending request to remove symbols from "+t+"-list: "+e),Object(l.fetch)("/api/v1/symbols_list/colored/"+t+"/remove/",{method:"POST",credentials:"same-origin",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}))},t.prototype.addSymbols=function(t,e){return Object(u.isFeatureEnabled)("disable_colored_lists")?(Object(h.showWarning)(d),Promise.resolve()):0===e.length?Promise.resolve():(f.logNormal("Sending request to add/move symbols to "+t+"-list: "+e),Object(l.fetch)("/api/v1/symbols_list/colored/"+t+"/append/",{method:"POST",credentials:"same-origin",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}))},t}(),b=n("FBuY"),y=n("TxTq"),p=n.n(y),g=n("PfBM"),_=n("dm8g"),v=(n("NNtz"),n("J/x9")),S=n("9oVN"),C=n("ehHn"),O=n("IWXC"),j=Object(c.getLogger)("MarkedSymbols.Model"),w=["red","blue","green","orange","purple"],L=null,N=function(){function t(t){var e=this
;this._promise=Object(v.a)(),this._service=null,this._symbols=new Map,this._changed=new Set,this._diff=new Map,this._names={},this._onCrossTabChange=function(t){j.logNormal("Cross tab sync"),JSON.parse(t).forEach((function(t){e._setSymbolColor(t.name,t.color)})),e._onListChange(!0)},this._onPushStreamChange=function(t){window.user&&window.user.session_hash!==t&&(j.logNormal("Cross browser sync"),e.syncSymbols())},this._onPushStreamStatus=function(t){t===g.ConnectionStatus.Open&&L===g.ConnectionStatus.Closed?(window.is_authenticated&&(o=setTimeout((function(){j.logNormal("Reconnect sync"),e.syncSymbols()}),30*Math.random()*1e3+3e4)),L=t):t===g.ConnectionStatus.Closed&&(L=t,clearTimeout(o))},this._opts=t,this._api=t.api||new m,this._session=t.quoteSession||Object(O.getQuoteSessionInstance)("simple"),this._promise.then((function(t){return e._service=t})),this.connect()}return t.prototype.getSymbolsByColor=function(t){if(null===this._service)return[];var e=this._service.store.getState(),n=Object(S.m)(e,t);return n?n.symbols:[]},t.prototype.getLists=function(){var t=this;return w.reduce((function(e,n){return e.set(n,new Set(t.getSymbolsByColor(n))),e}),new Map)},t.prototype.setSymbolsColor=function(t,e){var n=this;j.logNormal("Set symbols color "+e);try{t.forEach((function(t){n._setSymbolColor(t,e)}))}finally{this._onListChange()}},t.prototype.getSymbolColor=function(t){var e=this._symbols.get(t);return e?e.color:null},t.prototype.clearAllSymbolsColor=function(){j.logNormal("Clear all symbols color");var t=Array.from(this._symbols.keys());this.setSymbolsColor(t,null),this._clearStore()},t.prototype.syncSymbols=function(){var t=this;return Promise.all([this._api.getColoredLists(),this._promise]).then((function(e){var n=e[0];return t._ensureConsistency(n)})).then((function(e){t._names={};for(var n=[],o=function(e){e.color&&e.title&&(t._names[e.color]=e.title),n.push.apply(n,e.symbols.map((function(t){return{name:t,color:e.color,serverColor:e.color}})))},r=0,l=e;r<l.length;r++){o(l[r])}var a=Object(i.ensureNotNull)(t._service),c=a.store,u=a.actions,h=e.filter((function(t){return 0===t.symbols.length})).map((function(t){return Object(s.a)(Object(s.a)({},t),{symbols:[]})}));c.dispatch(u.setSymbolLists(h)),j.logNormal("Sync symbols");var f=new Set(t._symbols.keys());n.forEach((function(e){var n=t._symbols.get(e.name)||null,o=n&&n.color!==e.color,r=null===n&&e.color;(o||r)&&t._onChange(e,n,!1),f.delete(e.name)})),f.forEach((function(e){var n=t._symbols.get(e);n&&null!==n.color&&t._onChange({name:e,color:null,serverColor:null},n,!1)})),t._onListChange(!0)})).catch((function(t){throw j.logError("Sync symbols error: "+t.message),t}))},t.prototype.flushChanges=function(){var t,e=this,n=this._getChangedSymbols();this._changed.clear(),t=n.length>0?this._handleSymbols(n):Promise.resolve([]);for(var o=0,r=Array.from(this._symbols.entries());o<r.length;o++){var s=r[o],i=s[0],l=s[1];this._symbols.set(i,{name:l.name,color:l.color,serverColor:l.color})}return t.then((function(t){return j.logNormal("Flush changes"),t})).catch((function(t){
return j.logError("Flush changes error: "+t.message),Object(_.a)("marked-symbols"),e.syncSymbols(),[]}))},t.prototype.clear=function(){this._symbols.clear(),this._clearStore(),j.logNormal("Clear")},t.prototype.connect=function(){this._subscribeOnCrossTabEvent(),this._subscribeOnPushStream()},t.prototype.closeConnection=function(){this._unsubscribeOnCrossTabEvent(),this._unsubscribeOnPushStream()},t.prototype._ensureConsistency=function(t){var e=this;t=t.filter((function(t){return null!==t.color})).sort((function(t,e){return w.indexOf(Object(i.ensureNotNull)(t.color))-w.indexOf(Object(i.ensureNotNull)(e.color))}));for(var n=function(){for(var e=new Map,n=0,o=t;n<o.length;n++){var r=o[n],s=Object(i.ensureNotNull)(r.color);e.set(s,new Set(r.symbols))}return e}(),o=new Set,r=new Map,s=new Map,l=function(t,e){return t.has(e)||t.set(e,new Set),Object(i.ensureDefined)(t.get(e))},a=0,c=Array.from(n.entries());a<c.length;a++)for(var u=c[a],h=u[0],f=u[1],d=0,m=Array.from(f);d<m.length;d++){var b=m[d];o.has(b)&&(l(r,h).add(b),f.delete(b)),Object(C.p)(b)===b&&l(s,h).add(b),o.add(b)}for(var y=function(t,e,n){return n?{color:t,before:e,after:n.pro_name||e}:{color:t,before:e,after:e}},p=[],g=function(t,n){if(0===n.size)return"continue";j.logNormal("Marked consistency: resolving suspicious symbols in "+t+" list - "+Array.from(n)),p.push(Promise.all(Array.from(n).map((function(n){return e._session.snapshot(n).then((function(e){return y(t,n,e)})).catch((function(){return y(t,n)}))}))))},_=0,v=Array.from(s.entries());_<v.length;_++){var S=v[_];g(h=S[0],S[1])}return Promise.all(p).then((function(s){for(var i=new Map,a=0,c=s;a<c.length;a++)for(var u=0,h=c[a];u<h.length;u++){var f=h[u];if(f.after!==f.before){var d=l(n,f.color);d.delete(f.before),l(r,f.color).add(f.before),o.has(f.after)||(o.add(f.after),d.add(f.after),l(i,f.color).add(f.after))}}0!==r.size&&j.logNormal("Marked consistency: removing symbols from "+r.size+" lists");for(var m=0,b=Array.from(r.entries());m<b.length;m++){var y=b[m],p=y[0],g=y[1];e._api.removeSymbols(p,Array.from(g))}0!==i.size&&j.logNormal("Marked consistency: appending resolved symbols to "+r.size+" lists");for(var _=0,v=Array.from(i.entries());_<v.length;_++){var S=v[_],C=(p=S[0],S[1]);e._api.addSymbols(p,Array.from(C))}for(var O=function(e,n){var o=t.find((function(t){return t.color===e}));o&&(o.symbols=Array.from(n))},w=0,L=Array.from(n.entries());w<L.length;w++){var N=L[w];O(p=N[0],g=N[1])}return t}))},t.prototype._handleSymbols=function(t){for(var e=new Map,n=new Map,o=function(t,e){return t.has(e)||t.set(e,new Set),Object(i.ensureDefined)(t.get(e))},r=0,s=t;r<s.length;r++){var l=s[r];if(l.color)o(e,l.color).add(l.name);else if(l.serverColor)o(n,l.serverColor).add(l.name)}for(var a=[],c=0,u=Array.from(e.entries());c<u.length;c++){var h=u[c],f=h[0],d=h[1];a.push(this._api.addSymbols(f,Array.from(d)))}for(var m=0,b=Array.from(n.entries());m<b.length;m++){var y=b[m];f=y[0],d=y[1];a.push(this._api.removeSymbols(f,Array.from(d)))}return Promise.all(a)},t.prototype._setSymbolColor=function(t,e){
var n=this._symbols.get(t)||null,o={name:t,color:e,serverColor:n?n.serverColor:null};(n&&n.color!==o.color||!n&&o.color)&&this._onChange(o,n,!0)},t.prototype._onChange=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!0),this._addSymbolToList(t.name,t.color,e&&e.color),this._collectDiffByColor(t.name,t.color,e&&e.color),this._symbols.set(t.name,t),n&&this._changed.add(t.name),this._opts.onSymbolChange&&this._opts.onSymbolChange({name:t.name,color:t.color},e?{name:e.name,color:e.color}:null)},t.prototype._onListChange=function(t){void 0===t&&(t=!1),this._diff.size&&(this._opts.onListChange&&this._opts.onListChange(this._diff),t||b.TVXWindowEvents.emit("ListChanged",JSON.stringify(this._getChangedSymbols())),this._diff.clear())},t.prototype._addSymbolToList=function(t,e,n){if(null!==this._service){var o=this._service,r=o.store,i=o.actions;if(e){if((a=new Set(this.getSymbolsByColor(e))).has(t))return;if(500===a.size)throw j.logNormal("LimitReached"),new Error("LimitReached");a.add(t);var l=this._ensureColoredList(e);r.dispatch(i.addOrUpdateSymbolList(Object(s.a)(Object(s.a)({},l),{symbols:Array.from(a)})))}if(n){var a;(a=new Set(this.getSymbolsByColor(n))).delete(t);l=this._ensureColoredList(n);r.dispatch(i.addOrUpdateSymbolList(Object(s.a)(Object(s.a)({},l),{symbols:Array.from(a)})))}}},t.prototype._ensureColoredList=function(t){var e=Object(i.ensureNotNull)(this._service).store.getState();return Object(S.m)(e,t)||Object(C.e)(t,this._names[t])},t.prototype._collectDiffByColor=function(t,e,n){if(e!==n){var o,r;if(e)if(o=this._diff.get(e))o.set(t,1);else(r=new Map).set(t,1),this._diff.set(e,r);if(n)if(o=this._diff.get(n))o.set(t,-1);else(r=new Map).set(t,-1),this._diff.set(n,r)}},t.prototype._getChangedSymbols=function(){var t=this,e=[];return this._changed.forEach((function(n){var o=t._symbols.get(n);o&&e.push(o)})),e},t.prototype._clearStore=function(){if(null!==this._service){var t=this._service,e=t.store,n=t.actions,o=e.getState(),r=w.map((function(t){return Object(S.m)(o,t)})).filter((function(t){return Boolean(t)})).map((function(t){return Object(s.a)(Object(s.a)({},t),{symbols:[]})}));e.dispatch(n.setSymbolLists(r))}},t.prototype._subscribeOnCrossTabEvent=function(){b.TVXWindowEvents.on("ListChanged",this._onCrossTabChange)},t.prototype._unsubscribeOnCrossTabEvent=function(){b.TVXWindowEvents.off("ListChanged",this._onCrossTabChange)},t.prototype._subscribeOnPushStream=function(){p.a.on("marked-symbols",this._onPushStreamChange),p.a.onPrivateStatus(this._onPushStreamStatus)},t.prototype._unsubscribeOnPushStream=function(){p.a.off("marked-symbols",this._onPushStreamChange),p.a.offStatus(this._onPushStreamStatus),clearTimeout(o),L=null},t}(),P=n("JOqt"),E=n("brCa");n.d(e,"a",(function(){return H}));var T=function(){function t(t){var e=this;this._symbolChangeHandlers=new Map,this._listChangeHandlers=[],this._initHandlers=[],this._sync=null,this._inited=!1,this._broadcastOnSymbolChange=function(t,n){var o=e._symbolChangeHandlers.get(t.name);o&&o.forEach((function(e){return e(t,n)}))},
this._broadcastOnListChange=function(t){e._listChangeHandlers.forEach((function(e){return e(t)}))},this._flushModelChanges=function(){e._model.flushChanges()},this._onLoginStateChange=function(){var t;e._model.closeConnection(),window.is_authenticated?(e._model.connect(),t=e._syncSymbols()):(e._model.clear(),e._inited=!1,t=Promise.resolve()),t.then(e._fireInit)},this._fireInit=function(){e._initHandlers.forEach((function(t){return t()}))},this._runWithSync=function(t){e._sync?e._sync.then(t):t()},this._model=new N({api:t?t.api:void 0,quoteSession:t?t.quoteSession:void 0,onSymbolChange:this._broadcastOnSymbolChange,onListChange:this._broadcastOnListChange}),this._subscribeLoginStateChange(),this._flushModelChanges=Object(P.debounce)(this._flushModelChanges,2e3),this._syncSymbols().then(this._fireInit)}return t.prototype.getSymbolsByColor=function(t){return this._model.getSymbolsByColor(t)},t.prototype.setSymbolsColor=function(t,e){var n=this;0!==t.length&&this._runWithSync((function(){try{n._model.setSymbolsColor(t,e),n._flushModelChanges()}catch(s){"LimitReached"===s.message&&(n._flushModelChanges(),W||(W=Object(E.createNoticeDialog)({title:A,content:(o=500,r.t("Unable to flag all selected symbols since it exceeds the maximum amount ({0}).").format(o))})).then((function(t){t.on("afterClose",(function(){W=null})),t.open()})))}var o}))},t.prototype.getSymbolColor=function(t){return this._model.getSymbolColor(t)},t.prototype.clearAllSymbolsColor=function(){var t=this;this._runWithSync((function(){t._model.clearAllSymbolsColor(),t._flushModelChanges()}))},t.prototype.mergeSymbolsByColor=function(t,e){var n=this._model.getSymbolsByColor(t),o=n.filter((function(t){return!e.includes(t)})),r=e.filter((function(t){return!n.includes(t)}));this.setSymbolsColor(o,null),this.setSymbolsColor(r,t)},t.prototype.onSymbolChange=function(t,e){var n=this._symbolChangeHandlers.get(t);n?n.push(e):this._symbolChangeHandlers.set(t,[e])},t.prototype.offSymbolChange=function(t,e){var n=this._symbolChangeHandlers.get(t);if(n){var o=n.filter((function(t){return t!==e}));o.length>0?this._symbolChangeHandlers.set(t,o):this._symbolChangeHandlers.delete(t)}},t.prototype.onListChange=function(t){this._listChangeHandlers.push(t)},t.prototype.offListChange=function(t){this._listChangeHandlers=this._listChangeHandlers.filter((function(e){return e!==t}))},t.prototype.onInit=function(t){this._initHandlers.push(t)},t.prototype.offInit=function(t){this._initHandlers=this._initHandlers.filter((function(e){return e!==t}))},t.prototype.destroy=function(){this._model.clear(),this._model.closeConnection(),this._unsubscribeLoginStateChange()},t.prototype.isInited=function(){return this._inited},t.prototype._subscribeLoginStateChange=function(){window.loginStateChange&&window.loginStateChange.subscribe(this,this._onLoginStateChange)},t.prototype._unsubscribeLoginStateChange=function(){window.loginStateChange&&window.loginStateChange.unsubscribe(this,this._onLoginStateChange)},t.prototype._syncSymbols=function(){var t=this;if(window.is_authenticated){
this._sync=this._model.syncSymbols();var e=function(){t._sync=null,t._inited=!0};return this._sync.then(e).catch(e)}return Promise.resolve()},t}(),A=r.t("Issue With Flagging"),W=null;var M=null;function H(){return null===M&&(M=new T),M}}}]);