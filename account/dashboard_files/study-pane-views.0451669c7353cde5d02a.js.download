(window.webpackJsonp=window.webpackJsonp||[]).push([["study-pane-views"],{"0HiO":function(t,e,i){"use strict";i.r(e),i.d(e,"TrendChannelPaneView",(function(){return d}));var r=i("Eyy1"),n=i("aO4+"),a=i("hBTJ"),o=i("VdBB"),s=i("Zy3/"),l=i("8Uy/"),c=i("BCbF"),d=function(){function t(t,e,i){this._data=[],this._invalidated=!0,this._provider=t,this._model=e,this._data=[],this._hitTestResult=void 0!==i?new o.HitTestResult(o.HitTestResult.CUSTOM,i):new o.HitTestResult(o.HitTestResult.REGULAR)}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(){this._invalidated&&(this._updateViewInternal(),this._invalidated=!1);for(var t=new s.CompositeRenderer,e=0,i=this._data;e<i.length;e++){var r=i[e],n=new c.PolygonRenderer(this._hitTestResult);n.setData(r),t.append(n)}return t},t.prototype._updateViewInternal=function(){var t=this;this._data=[];var e=this._provider.priceScale(),i=this._model.timeScale();if(e&&!e.isEmpty()&&!i.isEmpty()){var a=this._provider.graphics().trendchannels();if(0!==a.size){var o=this._model.timeScale().visibleBarsStrictRange();if(null!==o){var s=this._provider.firstValue();if(null!==s){var c=o.firstBar(),d=o.lastBar();a.forEach((function(a,o){var u=t._provider.properties().graphics.trendchannels[o];a.forEach((function(a){var o=a.startIndex,p=a.endIndex;if(!(Math.max(o,p)<c&&!a.extendRight||Math.min(o,p)>d&&!a.extendLeft)){var f=e.priceToCoordinate(Object(r.ensureDefined)(a.startHighPrice),s),v=e.priceToCoordinate(Object(r.ensureDefined)(a.startLowPrice),s),_=e.priceToCoordinate(Object(r.ensureDefined)(a.endHighPrice),s),w=_-(f-v),y=i.indexToCoordinate(o),g=i.indexToCoordinate(p),x=h(new n.Point(y,f),new n.Point(g,_),i.width(),e.height(),a.extendLeft,a.extendRight),b=x[0],m=x[1],T=h(new n.Point(y,v),new n.Point(g,w),i.width(),e.height(),a.extendLeft,a.extendRight),R=T[0],P=T[1];t._data.push({points:[b,R,P,m],color:u.color.value(),backcolor:u.color.value(),linewidth:void 0!==u.borderWidth?u.borderWidth.value():0,linestyle:l.LINESTYLE_SOLID,filled:!0,fillBackground:!0,transparency:a.transparency?Math.min(a.transparency+u.transparency.value(),100):u.transparency.value(),mouseTouchable:!0})}}))}))}}}}},t}();function h(t,e,i,r,o,s){if(Object(n.equalPoints)(t,e))return[t,e];var l=new n.Point(0,0),c=new n.Point(i,r);if(o){var d=t.subtract(e);(h=Object(a.intersectRayAndBox)(t,t.add(d),Object(n.box)(l,c)))?t=h:e=new n.Point(i,e.y)}if(s){d=e.subtract(t);var h=Object(a.intersectRayAndBox)(e,e.add(d),Object(n.box)(l,c));e=h||new n.Point(i,e.y)}return[t,e]}},"1sos":function(t,e,i){"use strict";i.r(e),i.d(e,"HorizLinePaneView",(function(){return s}));var r=i("Eyy1"),n=i("VdBB"),a=i("Zy3/"),o=i("l4sv"),s=function(){function t(t,e,i){this._data=[],this._invalidated=!0,this._provider=t,this._model=e,this._hitTestResult=void 0!==i?new n.HitTestResult(n.HitTestResult.CUSTOM,i):new n.HitTestResult(n.HitTestResult.REGULAR)}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(){this._invalidated&&(this._updateViewInternal(),this._invalidated=!1)
;for(var t=new a.CompositeRenderer,e=0,i=this._data;e<i.length;e++){var r=i[e],n=new o.HorizontalLineRenderer;n.setData(r),n.setHitTest(this._hitTestResult),t.append(n)}return t},t.prototype._updateViewInternal=function(){var t=this;this._data=[];var e=this._provider.priceScale(),i=this._model.timeScale();if(e&&!e.isEmpty()&&!i.isEmpty()){var n=this._provider.graphics().horizlines();if(0!==n.size){var a=this._model.timeScale().visibleBarsStrictRange();if(null!==a){var o=this._provider.firstValue();if(null!==o){var s=a.firstBar(),l=a.lastBar();n.forEach((function(n,a){var c=t._provider.properties().graphics.horizlines[a];c.visible.value()&&n.forEach((function(n){var a=n.startIndex,d=n.endIndex;!n.extendRight&&Math.max(a,d)<s||!n.extendLeft&&Math.min(a,d)>l||t._data.push({y:e.priceToCoordinate(Object(r.ensureDefined)(n.level),o),left:n.extendLeft?void 0:i.indexToCoordinate(a),right:n.extendRight?void 0:i.indexToCoordinate(d),color:c.color.value(),linewidth:c.width.value(),linestyle:c.style.value()})}))}))}}}}},t}()},"292E":function(t,e,i){"use strict";i.r(e);var r=i("mrSG"),n=i("Eyy1"),a=i("aO4+"),o=i("972a"),s=i("nInm"),l=i("Zy3/"),c=i("f6yo"),d=i("VdBB"),h=i("ikwP"),u=i("Ialn"),p=function(){function t(t,e){this._data=t,this._textCache=e}return t.prototype.draw=function(t,e){var i=this;if(this._data){var r=f(this._data.direction),n=this._data.point.x;"left"===this._data.halign?n-=this._data.size:"right"===this._data.halign&&(n+=this._data.size);var a=this._data.point.y;t.font=this._fontStyle();var o=t.measureText(this._data.text).width;this._textCache.textWidth=o;var s=this._data.fontSize;t.textAlign=Object(u.isRtl)()?"right":"left";var l=Object(h.calcTextHorizontalShift)(t,o),c=.65*s,d=1*s;Object(h.drawScaled)(t,e.pixelRatio,(function(){t.translate(n,a),t.beginPath(),t.moveTo(0,0),t.lineTo(c,d*r),t.lineTo(.5*o+c,d*r),t.lineTo(.5*o+c,(d+1.75*s)*r),t.lineTo(.5*-o-c,(d+1.75*s)*r),t.lineTo(.5*-o-c,d*r),t.lineTo(-c,d*r),t.lineTo(0,0),t.strokeStyle=i._data.borderColor,t.stroke(),t.fillStyle=i._data.color,t.fill(),t.fillStyle=i._data.fontColor,t.fillText(i._data.text,.5*-o+l,r<0?r*d-.5*s:d+1.25*s)}))}},t.prototype.hitTest=function(t){var e=this._textCache.textWidth||0,i=this._data.fontSize,r=f(this._data.direction),n=.65*i,o=1*i,s=this._data.point.x;"left"===this._data.halign?s-=this._data.size:"right"===this._data.halign&&(s+=this._data.size);var l=this._data.point.y,h=s-.5*e-n,u=s+.5*e+n,p=l+o*r,v=l+(o+1.75*i)*r;if(v<p){var _=p;p=v,v=_}if(Object(c.pointInBox)(t,Object(a.box)(new a.Point(h,p),new a.Point(u,v))))return new d.HitTestResult(d.HitTestResult.REGULAR);var w=[new a.Point(this._data.point.x,this._data.point.y),new a.Point(this._data.point.x+.65*i,this._data.point.y+i*r),new a.Point(this._data.point.x-.65*i,this._data.point.y+i*r)],y=(t.x-w[0].x)*(w[1].y-w[0].y)-(t.y-w[0].y)*(w[1].x-w[0].x);return((t.x-w[1].x)*(w[2].y-w[1].y)-(t.y-w[1].y)*(w[2].x-w[1].x))*y>0&&((t.x-w[2].x)*(w[0].y-w[2].y)-(t.y-w[2].y)*(w[0].x-w[2].x))*y>0?new d.HitTestResult(d.HitTestResult.REGULAR):null},t.prototype._fontStyle=function(){
return(this._data.bold?"bold ":"")+(this._data.italic?"italic ":"")+this._data.fontSize+"px "+this._data.font},t}();function f(t){if("up"===t)return 1;if("down"===t)return-1;throw new Error(t+" is not supported by TriangleTextMarkRenderer")}var v=function(){function t(t,e){this._data=t,this._textCache=e}return t.prototype.draw=function(t,e){var i=this,r=this._data.point.x,n=this._data.point.y;t.font=this._fontStyle();var a=t.measureText(this._data.text).width;this._textCache.textWidth=a,Object(h.drawScaled)(t,e.pixelRatio,(function(){switch(t.translate(r,n),t.beginPath(),t.moveTo(0,0),t.textAlign=i._data.halign,i._data.valign){case"middle":t.textBaseline="middle";break;case"top":t.textBaseline="bottom";break;case"bottom":t.textBaseline="hanging"}t.fillStyle=i._data.fontColor,t.fillText(i._data.text,0,0)}))},t.prototype.hitTest=function(t){var e=this._data.point.x,i=this._data.point.y,r=this._textCache.textWidth||0,n=this._data.fontSize;switch(this._data.halign){case"right":e-=r;break;case"center":e-=r/2}switch(this._data.valign){case"middle":i-=n/2;break;case"bottom":i-=n}var o=new a.Point(e,i),s=new a.Point(e+r,i+n);return Object(c.pointInBox)(t,Object(a.box)(o,s))?new d.HitTestResult(d.HitTestResult.REGULAR):null},t.prototype._fontStyle=function(){return(this._data.bold?"bold ":"")+(this._data.italic?"italic ":"")+this._data.fontSize+"px "+this._data.font},t}(),_=i("tSCe"),w=i.n(_),y=i("Tmoa");i.d(e,"TextMarkPaneView",(function(){return g}));var g=function(t){function e(e,i,r){var n=t.call(this)||this;return n._data=[],n._textCache=[],n._invalidated=!0,n._provider=e,n._model=i,n._data=[],n._textCache=[],n}return Object(r.c)(e,t),e.prototype.update=function(){this._invalidated=!0},e.prototype.renderer=function(){this._invalidated&&(this._updateViewInternal(),this._invalidated=!1);for(var t=new l.CompositeRenderer,e=0;e<this._data.length;e++){var i=this._data[e],r=this._textCache[e];switch(i.shape){case"triangle":t.append(new p(i,r));break;case"rectangle":t.append(new v(i,r))}}return t},e.prototype._updateViewInternal=function(){var t=this;this._data=[];var e=this._provider.priceScale(),i=this._model.timeScale();if(e&&!e.isEmpty()&&!i.isEmpty()){var n=this._provider.graphics().textmarks();if(0!==n.size){var o=this._model.timeScale().visibleBarsStrictRange();if(null!==o){var l=this._provider.firstValue();if(null!==l){var c=o.firstBar(),d=o.lastBar();n.forEach((function(n,o){var h=t._provider.properties().graphics.textmarks[o];h.visible.value()&&n.forEach((function(n){var o=n.time;if(!(o<c||d<o)&&null!==t._provider.series().bars().valueAt(o)){o=n.time+(n.offset||0);var u={text:n.text?n.text:"",bold:h.fontBold.value(),italic:h.fontItalic.value(),font:h.fontFamily.value(),fontColor:Object(y.generateColor)(h.fontColor.value(),h.transparency.value()),fontSize:h.fontSize.value()},p=h.location.value(),f=h.shape.value();switch(f){case s.a.Triangle:var v=t._calcCoordsForTriangleShape(p,o,50,n.price,l,e,i),_=v.x,w=v.y,g=v.direction;t._data.push(Object(r.a)({shape:f,
color:Object(y.generateColor)(h.color.value(),h.transparency.value()),borderColor:"rgb(0, 0, 0)",direction:g,point:new a.Point(_,w),halign:h.halign.value(),size:.5*i.barSpacing()},u));break;case s.a.Rectangle:var x=t._calcCoordsForRectangleShape(p,o,n.price,l,e,i);_=x.x,w=x.y;t._data.push(Object(r.a)({shape:f,point:new a.Point(_,w),halign:h.halign.value(),valign:void 0!==h.valign?h.valign.value():"middle"},u))}t._textCache.push({})}}))}))}}}}},e.prototype._calcCoordsForTriangleShape=function(t,e,i,r,a,s,l){var c=Math.round(l.indexToCoordinate(e));switch(t){case o.MarkLocation.Top:return{x:c,y:s.height()-i,direction:"down"};case o.MarkLocation.Bottom:return{x:c,y:i,direction:"up"};case o.MarkLocation.AbsoluteDown:return{x:c,y:s.priceToCoordinate(Object(n.ensureDefined)(r),a),direction:"down"};case o.MarkLocation.AbsoluteUp:return{x:c,y:s.priceToCoordinate(Object(n.ensureDefined)(r),a),direction:"up"};case o.MarkLocation.AboveBar:return{x:c,y:this._locationToY(t,e),direction:"down"};case o.MarkLocation.BelowBar:default:return{x:c,y:this._locationToY(t,e),direction:"up"}}},e.prototype._calcCoordsForRectangleShape=function(t,e,i,r,a,s){var l=Math.round(s.indexToCoordinate(e));switch(t){case o.MarkLocation.AbsoluteDown:case o.MarkLocation.AbsoluteUp:case o.MarkLocation.Absolute:return{x:l,y:a.priceToCoordinate(Object(n.ensureDefined)(i),r)};case o.MarkLocation.AboveBar:case o.MarkLocation.BelowBar:return{x:l,y:this._locationToY(t,e)};case o.MarkLocation.Right:case o.MarkLocation.Left:return{x:s.width(),y:a.priceToCoordinate(Object(n.ensureDefined)(i),r)};default:return{x:l,y:this._locationToY(t,e)}}},e}(w.a)},"3zbQ":function(t,e,i){"use strict";i.r(e),i.d(e,"LevelPaneView",(function(){return h}));var r=i("Eyy1"),n=i("aO4+"),a=i("VdBB"),o=i("VSsv"),s=i("Zy3/"),l=i("l4sv"),c=i("qgcf"),d=i("zDbI"),h=function(){function t(t,e,i){this._data=[],this._textData=[],this._invalidated=!0,this._provider=t,this._model=e}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(){this._invalidated&&(this._updateViewInternal(),this._invalidated=!1);for(var t=new s.CompositeRenderer,e=0,i=this._data;e<i.length;e++){var r=i[e],n=new l.HorizontalLineRenderer;n.setData(r),t.append(n)}for(var o=0,d=this._textData;o<d.length;o++){var h=d[o];t.append(new c.TextRenderer(h,new a.HitTestResult(a.HitTestResult.REGULAR)))}return t},t.prototype._updateViewInternal=function(){this._calcHorzLinesData(),this._calcTextData()},t.prototype._calcTextData=function(){var t=this;this._textData=[];var e=this._provider.priceScale(),i=this._model.timeScale();if(e&&!e.isEmpty()&&!i.isEmpty()){var a=this._provider.graphics().hlines();if(0!==a.size){var s=this._provider.firstValue();null!==s&&a.forEach((function(a,l){var c=t._provider.properties().graphics.hlines[l];c.enableText.value()&&c.showText.value()&&a.forEach((function(a){var l=e.priceToCoordinate(Object(r.ensureDefined)(a.level),s),h=c.textPos.value(),u=function(t,e){if(t===o.a.TopLeft||t===o.a.MiddleLeft||t===o.a.BottomLeft)return["left",4]
;if(t===o.a.TopCenter||t===o.a.MiddleCenter||t===o.a.BottomCenter)return["center",e/2];if(t===o.a.TopRight||t===o.a.MiddleRight||t===o.a.BottomRight)return["right",e];throw new Error("Unsupported TextPos value")}(h,i.width()),p=u[0],f=u[1],v=function(t,e){if(t===o.a.TopLeft||t===o.a.TopCenter||t===o.a.TopRight)return["bottom",e-4];if(t===o.a.MiddleLeft||t===o.a.MiddleCenter||t===o.a.MiddleRight)return["middle",e-2];if(t===o.a.BottomLeft||t===o.a.BottomCenter||t===o.a.BottomRight)return["top",e];throw new Error("Unsupported TextPos value")}(h,l),_=v[0],w=v[1];t._textData.push({points:[new n.Point(f,w)],offsetX:0,offsetY:0,text:a.text||"",color:c.color.value(),font:d.CHART_FONT_FAMILY,fontsize:c.fontSize.value(),horzAlign:p,vertAlign:_})}))}))}}},t.prototype._calcHorzLinesData=function(){var t=this;this._data=[];var e=this._provider.priceScale(),i=this._model.timeScale();if(e&&!e.isEmpty()&&!i.isEmpty()){var n=this._provider.graphics().hlines();if(0!==n.size){var a=this._provider.firstValue();null!==a&&n.forEach((function(i,n){var o=t._provider.properties().graphics.hlines[n];o.visible.value()&&i.forEach((function(i){var n=e.priceToCoordinate(Object(r.ensureDefined)(i.level),a);t._data.push({visible:!0,y:n,color:o.color.value(),linewidth:o.width.value(),linestyle:o.style.value()})}))}))}}},t}()},BJvp:function(t,e,i){"use strict";i.r(e),i.d(e,"PolygonPaneView",(function(){return c}));var r=i("Eyy1"),n=i("aO4+"),a=i("VdBB"),o=i("Zy3/"),s=i("8Uy/"),l=i("BCbF"),c=function(){function t(t,e,i){this._data=[],this._invalidated=!0,this._provider=t,this._model=e,this._hitTestResult=void 0!==i?new a.HitTestResult(a.HitTestResult.CUSTOM,i):new a.HitTestResult(a.HitTestResult.REGULAR)}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(){this._invalidated&&(this._updateViewInternal(),this._invalidated=!1);for(var t=new o.CompositeRenderer,e=0,i=this._data;e<i.length;e++){var r=i[e],n=new l.PolygonRenderer(this._hitTestResult);n.setData(r),t.append(n)}return t},t.prototype._updateViewInternal=function(){var t=this;this._data=[];var e=this._provider.priceScale(),i=this._model.timeScale();if(e&&!e.isEmpty()&&!i.isEmpty()){var a=this._provider.graphics().polygons();if(0!==a.size){var o=this._model.timeScale().visibleBarsStrictRange();if(null!==o){var l=this._provider.firstValue();if(null!==l){var c=o.firstBar(),d=o.lastBar();a.forEach((function(a,o){var h=t._provider.properties().graphics.polygons[o];100!==h.transparency.value()&&a.forEach((function(a){for(var o=1/0,u=-1/0,p=0,f=a.points;p<f.length;p++){var v=f[p],_=v.index+(v.offset||0);o=Math.min(o,_),u=Math.max(u,_)}if(!(u<c||d<o)){var w=a.points.map((function(t){var a=i.indexToCoordinate(t.index+(t.offset||0)),o=e.priceToCoordinate(Object(r.ensureDefined)(t.level),l);return new n.Point(a,o)}));t._data.push({points:w,color:h.color.value(),backcolor:h.color.value(),linewidth:void 0!==h.showBorder&&h.showBorder.value()?1:0,linestyle:s.LINESTYLE_SOLID,filled:!0,fillBackground:!0,transparency:h.transparency.value(),
mouseTouchable:h.mouseTouchable.value()})}}))}))}}}}},t}()},Gj0v:function(t,e,i){"use strict";i.r(e);var r=i("mrSG"),n=i("Eyy1"),a=i("VdBB"),o=i("Zy3/"),s=i("qgcf"),l=i("aO4+"),c=i("eJTA"),d=i("ikwP"),h=i("KG+6"),u=i("nEwK"),p=i("zDbI");function f(t,e){return{min:Math.min(t,e),max:Math.max(t,e)}}function v(t){return t.max-t.min}var _=function(){function t(t){this._data=t}return t.prototype.hitTest=function(t,e){for(var i=this._data,r=function(r){if(r.xRange.min>=t.x||t.x>=r.xRange.max||r.yRange.min>=t.y||t.y>=r.yRange.max)return"continue";var n=r.yRange.min,o=0;r.bars.forEach((function(t){var e=t.subBarValues.reduce((function(t,e){return t+e}));o=Math.max(o,e)}));for(var s=v(r.xRange),l=0,c=r.bars;l<c.length;l++){var d=c[l],h=i.styles[d.styleId];if(!h.visible)return{value:null};var u=w(r.xRange,h,e.cssWidth),p=u.xBasePoint,_=u.sign,y=f(n,n+d.height);n+=d.height;for(var g=Math.max(h.percentWidth*s/100-d.subBarValues.length,0),x=0;x<d.subBarValues.length;x++){var b=y.min,m=y.max,T=0===x?p:p+_*(g*d.subBarValues[x-1]/o),R=T+_*(g*d.subBarValues[x]/o);if((t.x>=T&&t.x<=R||t.x>=R&&t.x<=T)&&t.y>=b&&t.y<=m)return{value:new a.HitTestResult(a.HitTestResult.REGULAR)}}}},n=0,o=i.histograms;n<o.length;n++){var s=r(o[n]);if("object"==typeof s)return s.value}return null},t.prototype.draw=function(t,e){var i=this._data;t.save(),i.histograms.forEach((function(r){var n=[],a=r.yRange.min,o=0,s=0;r.bars.forEach((function(t){var e=t.subBarValues.reduce((function(t,e){return t+e}));o=Math.max(o,e),s+=t.height}));var l,d,h=s/r.bars.length,u=(l=h,d=e.pixelRatio,Math.floor(l*d)>=1*d?Math.floor(d):0),p=v(r.xRange),_=[];if(r.bars.forEach((function(s){var l=i.styles[s.styleId];if(l.visible){if(l.showValues)for(var c=0;c<s.subBarValues.length;c++)n[c]=(n[c]||0)+s.subBarValues[c];var d=w(r.xRange,l,e.cssWidth),h=d.xBasePoint,v=d.sign,x=f(a,a+s.height);if(a+=s.height,!(x.min>e.cssHeight||x.max<0)){var b=Math.max(l.percentWidth*p/100-s.subBarValues.length,0);for(c=0;c<s.subBarValues.length;c++){var m=x.min,T=x.max,R=0===c?h:h+v*(b*s.subBarValues[c-1]/o),P=R+v*(b*s.subBarValues[c]/o);if(!(Math.abs(P-R)<.5)){t.fillStyle=l.colors[c],t.beginPath();var S=Math.round(R*e.pixelRatio),O=Math.round(m*e.pixelRatio),L=Math.round(P*e.pixelRatio),C=Math.round(T*e.pixelRatio),B=L-S,E=Math.max(C-O-u,1);t.rect(S,O,B,E),t.fill()}}if(l.showValues){var M=y(s.subBarValues,l.direction),H=g(p,x,d,l,M);_.push(H)}}}})),_.length>0){var b=i.styles[r.bars[0].styleId],m=w(r.xRange,b,e.cssWidth),T=f(a,a+h),R=y(n,b.direction),P=g(p,T,m,b,R);P.color=Object(c.shiftColor)(P.color,1.5),_.push(P)}var S=Math.min.apply(Math,_.map((function(t){return t.fontSize})));if(S>=7.5)for(var O=0,L=_;O<L.length;O++){var C=L[O];C.fontSize=S,x(t,e,C)}})),t.restore()},t}();function w(t,e,i){var r,n,a=e.location===h.b.Absolute,o=e.location===h.b.Relative,s=e.direction===h.a.LeftToRight,l=e.direction===h.a.RightToLeft;if(a&&s)r=t.min,n=1;else if(a&&l)r=t.max,n=-1;else if(o&&s)r=0,n=1;else{if(!o||!l)throw new Error("Unknown location/direction values: "+e.location+"/"+e.direction);r=i,n=-1}return{
xBasePoint:r,sign:n}}function y(t,e){e===h.a.RightToLeft&&(t=t.slice()).reverse();var i=new u.VolumeFormatter;return t.map((function(t){return i.format(t)})).join("x")}function g(t,e,i,r,n){var a=Math.min(Math.round(1.7*t/n.length),Math.round(.6*v(e))),o=r.direction===h.a.LeftToRight?"left":"right",s=i.xBasePoint+3*i.sign,c=e.min+.7*v(e);return{text:n,color:r.valuesColor,fontSize:a,align:o,point:new l.Point(s,c)}}function x(t,e,i){var r=i.text,n=i.color,a=i.fontSize,o=i.align,s=i.point;t.font=a+"px "+p.CHART_FONT_FAMILY,t.fillStyle=n,t.textAlign=o,Object(d.drawScaled)(t,e.pixelRatio,(function(){return t.fillText(r,s.x,s.y)}))}var b=i("Tmoa");i.d(e,"HHistPaneView",(function(){return m}));var m=function(){function t(t,e,i){this._invalidated=!0,this._provider=t,this._model=e,this._rendererData={histograms:[],styles:{}},this._textData=[],this._hhistRenderer=new _(this._rendererData)}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(){this._invalidated&&(this._updateViewInternal(),this._invalidated=!1);var t=new o.CompositeRenderer;t.append(this._hhistRenderer);for(var e=0,i=this._textData;e<i.length;e++){var r=i[e];t.append(new s.TextRenderer(r,new a.HitTestResult(a.HitTestResult.REGULAR)))}return t},t.prototype._resetRenderersData=function(){this._rendererData.histograms=[],this._textData=[]},t.prototype._prepareStyles=function(){var t=Object.keys(Object(n.ensureDefined)(this._provider.graphicsInfo().hhists)),e=this._provider.properties().graphics.hhists;this._rendererData.styles={};for(var i=0,r=t;i<r.length;i++){var a=r[i],o=Object(n.ensureDefined)(e.child(a)),s=Object(b.generateColor)(o.colors[0].value(),o.transparencies[0].value()),l=o.colors[1]?Object(b.generateColor)(o.colors[1].value(),o.transparencies[1].value()):s;this._rendererData.styles[a]={colors:[s,l],visible:o.visible.value(),percentWidth:o.percentWidth.value(),location:o.location.value(),direction:o.direction.value(),showValues:o.showValues.value(),valuesColor:o.valuesColor.value()}}},t.prototype._updateViewInternal=function(){var t=this;this._resetRenderersData();var e=this._provider.priceScale(),i=this._model.timeScale();if(e&&!e.isEmpty()&&!i.isEmpty()&&null!==this._provider.firstValue()){var r=this._provider.graphics().hhistsByTimePointIndex();if(0!==r.size){var a=i.visibleBarsStrictRange();if(null!==a){var o=a.firstBar(),s=a.lastBar();this._prepareStyles(),Object(n.ensureDefined)(r).forEach((function(r,n){var a=1/0,l=-1/0;r.forEach((function(t){a=Math.min(a,t.firstBarTime),l=Math.max(l,t.lastBarTime)})),l<o||a>s||t._updateDataForRenderers(r,e,i)}))}}}},t.prototype._updateDataForRenderers=function(t,e,i){var a=this;if(!(t.size<=0)){var o=null;if(t.forEach((function(t){o=o||t})),null!==o){var s=o;t.forEach((function(t){t.priceLow<s.priceLow&&(s=t)}));var l=function(t,e){return f(e.indexToCoordinate(t.firstBarTime),e.indexToCoordinate(t.lastBarTime))}(o,i),c=[];t.forEach((function(t){null==t.rate[t.rate.length-1]&&t.rate.splice(-1,1);var i=function(t,e,i){
return f(e.priceToCoordinate(t.priceHigh,i),e.priceToCoordinate(t.priceLow,i))}(t,e,Object(n.ensureNotNull)(a._provider.firstValue()));c.push({yRange:i,subBarValues:t.rate,styleId:t.styleId})})),c.sort((function(t,e){return t.yRange.min-e.yRange.min}));for(var d=[],h=c[0].yRange.min,u=0,p=c;u<p.length;u++){var v=p[u],_=v.yRange.max-h;d.push(Object(r.a)({height:_},v)),h=v.yRange.max}this._rendererData.histograms.push({xRange:l,yRange:f(c[0].yRange.min,h),bars:d})}}},t}()},IMGS:function(t,e,i){"use strict";var r=i("aB9a").LineSourcePaneView,n=i("rvCT").LinearRegressionPaneView,a=i("NN6M").ParallelChannelRenderer,o=i("qgcf").TextRenderer,s=i("pJOz").TrendLineRenderer,l=i("vq8G").SelectionRenderer,c=i("VdBB").HitTestResult,d=i("Zy3/").CompositeRenderer,h=i("Tmoa");function u(t,e){r.call(this,t,e),this._calc=null,this._lines=[],this._pearsons=null,this._pearsonsLabelRenderer=new o,this._renderer=null}inherit(u,r),u.prototype.getTransparencyResetLines=function(){return this._lines.map((function(t){var e=$.extend({},t);return e.color=h.resetTransparency(e.color),e}))},u.prototype.renderer=function(t,e){return this._invalidated&&this._updateImpl(),this._renderer},u.prototype._updateImpl=function(){r.prototype._updateImpl.call(this),n.prototype._updateImpl.call(this),this._renderer=null;for(var t=new d,e=[],i=[this._lines[1],this._lines[0],this._lines[2]],o=[],u=0;u<i.length;u++)i[u]&&o.push(i[u]);for(u=1;u<o.length;u++){var p={};p.points=[i[u].floatPoints[0],i[u].floatPoints[1],i[u-1].floatPoints[0],i[u-1].floatPoints[1]],p.color=i[u].color,p.width=this._model.timeScale().width(),p.height=this._source.priceScale().height(),p.linewidth=i[u].linewidth,p.linestyle=i[u].linestyle,p.extendleft=!1,p.extendright=i[u].extendright,p.backcolor=p.color,p.transparency=this._source.properties().styles.transparency.value(),p.skipLines=!0,p.fillBackground=!0,(v=new a(new c(c.REGULAR))).setData(p),t.append(v)}var f=this.getTransparencyResetLines();for(u=0;u<o.length;u++){var v;(v=new s).setData(f[u]),v.setHitTest(new c(c.REGULAR)),t.append(v),0!==u&&(e=e.concat(this._lines[u].floatPoints))}if(this._pearsons&&(this._pearsons.color=h.resetTransparency(this._pearsons.color),this._pearsonsLabelRenderer.setData(this._pearsons),t.append(this._pearsonsLabelRenderer)),this._lines&&this._lines.length>=1){t.append(new l({points:e,bgColors:this._lineAnchorColors(e),visible:this.areAnchorsVisible()}));var _=this._lines[0].floatPoints;_[0].data=0,_[1].data=1,t.append(this.createLineAnchor({points:_}))}this._renderer=t},e.RegressionTrendPaneView=u},IyRz:function(t,e,i){"use strict";i.r(e);var r=i("Eyy1"),n=i("Zy3/"),a=i("ikwP"),o=i("Tmoa"),s=function(){function t(t){this._data=t}return t.prototype.hitTest=function(t){return null},t.prototype.draw=function(t,e){},t.prototype.drawBackground=function(t,e){var i=this._data,r=Object(o.generateColor)(this._data.color,this._data.transparency),n=e.pixelRatio,s=Math.round(i.x1*n),l=Math.round(i.x2*n);Object(a.fillRect)(t,s,0,l-s,e.physicalHeight,r)},t}();i.d(e,"BackgroundPaneView",(function(){return l}))
;var l=function(){function t(t,e,i){this._data=[],this._invalidated=!0,this._provider=t,this._model=e,this._data=[]}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(){this._invalidated&&(this._updateViewInternal(),this._invalidated=!1);for(var t=new n.CompositeRenderer,e=0,i=this._data;e<i.length;e++){var r=i[e];t.append(new s(r))}return t},t.prototype._updateViewInternal=function(){var t=this;this._data=[];var e=this._provider.priceScale(),i=this._model.timeScale();if(e&&!e.isEmpty()&&!i.isEmpty()){var n=this._provider.graphics().backgrounds();if(0!==n.size){var a=this._model.timeScale().visibleBarsStrictRange();if(null!==a){var o=a.firstBar(),s=a.lastBar();n.forEach((function(e,n){var a,l,c=t._provider.properties().graphics.backgrounds[n];c.visible.value()&&e.forEach((function(e){var n=null!==e.start?e.start:Object(r.ensureNotNull)(i.points().firstIndex()),d=e.stop;if(!(d<o||s<n)){var h=i.indexToCoordinate(n)-.5*i.barSpacing(),u=i.indexToCoordinate(d)+.5*i.barSpacing();l===n-1&&(h=a||h),a=u,l=d,h<0&&u<0||h>i.width()&&u>i.width()||t._data.push({x1:h,x2:u,color:c.color.value(),transparency:c.transparency.value()})}}))}))}}}},t}()},K3ps:function(t,e,i){"use strict";i.r(e);var r,n=i("Zy3/"),a=i("PF2b"),o=i("Kmdw"),s=i("akof"),l=i("+q2u"),c=i("fxzW"),d=i("P+Pi"),h=i("IOzl"),u=i("mrSG"),p=i("aO4+"),f=i("jlDR"),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e.prototype._calcBoundingBox=function(t){var e=t.x,i=t.x+t.shapeWidth,r=t.y-t.shapeHeight+t.vertOffset,n=t.y+t.vertOffset,a=new p.Point(e,r),o=new p.Point(i,n);return Object(p.box)(a,o)},e.prototype._drawItemShape=function(t,e,i){var r=e.pixelRatio,n=this._lineWidth(e)%2?.5:0,a=this._getArrowSize(i),o=Math.round(i.x*r)+n,s=Math.round((i.y+i.vertOffset)*r)+n,l=Math.round((i.x+a)*r)+n,c=Math.round((i.y+i.vertOffset-a)*r)+n,d=Math.round((i.y+i.vertOffset-2*a)*r)+n;t.moveTo(l,c),t.lineTo(o,s),t.lineTo(l,d);var h=Math.round((i.y+i.vertOffset-i.shapeHeight)*r)+n,u=Math.round((i.x+i.shapeWidth)*r)+n;this._drawCorner(t,l,h,f.a.leftUp,r),this._drawCorner(t,u,h,f.a.rightUp,r),this._drawCorner(t,u,c,f.a.rightDown,r),t.lineTo(l,c)},e.prototype._getArrowSize=function(t){return t.stepX/Math.sqrt(2)},e.prototype._getHorizontalTextOffset=function(t){return t.shapeWidth/2+this._getArrowSize(t)/2},e.prototype._getVerticalTextOffset=function(t){return-t.shapeHeight/2-this._getArrowSize(t)/2},e}(f.b),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e.prototype._calcBoundingBox=function(t){var e=t.x,i=t.x+t.shapeWidth,r=t.y+t.vertOffset,n=t.y+t.shapeHeight+t.vertOffset,a=new p.Point(e,r),o=new p.Point(i,n);return Object(p.box)(a,o)},e.prototype._drawItemShape=function(t,e,i){
var r=e.pixelRatio,n=this._lineWidth(e)%2?.5:0,a=this._getArrowSize(i),o=Math.round(i.x*r)+n,s=Math.round((i.y+i.vertOffset)*r)+n,l=Math.round((i.x+a)*r)+n,c=Math.round((i.y+i.vertOffset+2*a)*r)+n,d=Math.round((i.y+i.vertOffset+a)*r)+n,h=Math.round((i.x+i.shapeWidth)*r)+n,u=Math.round((i.y+i.vertOffset+i.shapeHeight)*r)+n;t.moveTo(l,c),t.lineTo(o,s),t.lineTo(l,d),this._drawCorner(t,h,d,f.a.rightUp,r),this._drawCorner(t,h,u,f.a.rightDown,r),this._drawCorner(t,l,u,f.a.leftDown,r),t.lineTo(l,c)},e.prototype._getArrowSize=function(t){return t.stepX/Math.sqrt(2)},e.prototype._getHorizontalTextOffset=function(t){return t.shapeWidth/2+this._getArrowSize(t)/2},e.prototype._getVerticalTextOffset=function(t){return t.shapeHeight/2+this._getArrowSize(t)/2},e}(f.b),w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e.prototype._calcBoundingBox=function(t){var e=t.x-t.shapeWidth,i=t.x,r=t.y-t.shapeHeight+t.vertOffset,n=t.y+t.vertOffset,a=new p.Point(e,r),o=new p.Point(i,n);return Object(p.box)(a,o)},e.prototype._drawItemShape=function(t,e,i){var r=e.pixelRatio,n=this._lineWidth(e)%2?.5:0,a=this._getArrowSize(i),o=Math.round(i.x*r)+n,s=Math.round((i.y+i.vertOffset)*r)+n,l=Math.round((i.x-a)*r)+n,c=Math.round((i.y+i.vertOffset-2*a)*r)+n,d=Math.round((i.y+i.vertOffset-a)*r)+n,h=Math.round((i.x-i.shapeWidth)*r)+n,u=Math.round((i.y+i.vertOffset-i.shapeHeight)*r)+n;t.moveTo(l,c),t.lineTo(o,s),t.lineTo(l,d),this._drawCorner(t,h,d,f.a.leftDown,r),this._drawCorner(t,h,u,f.a.leftUp,r),this._drawCorner(t,l,u,f.a.rightUp,r),t.lineTo(l,c)},e.prototype._getArrowSize=function(t){return t.stepX/Math.sqrt(2)},e.prototype._getVerticalTextOffset=function(t){return-t.shapeHeight/2-this._getArrowSize(t)/2},e.prototype._getHorizontalTextOffset=function(t){return-t.shapeWidth/2-this._getArrowSize(t)/2},e}(f.b),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e.prototype._calcBoundingBox=function(t){var e=t.x-t.shapeWidth,i=t.x,r=t.y+t.vertOffset,n=t.y+t.shapeHeight+t.vertOffset,a=new p.Point(e,r),o=new p.Point(i,n);return Object(p.box)(a,o)},e.prototype._drawItemShape=function(t,e,i){var r=e.pixelRatio,n=this._lineWidth(e)%2?.5:0,a=this._getArrowSize(i),o=Math.round(i.x*r)+n,s=Math.round((i.y+i.vertOffset)*r)+n,l=Math.round((i.x-a)*r)+n,c=Math.round((i.y+i.vertOffset+a)*r)+n,d=Math.round((i.y+i.vertOffset+2*a)*r)+n,h=Math.round((i.x-i.shapeWidth)*r)+n,u=Math.round((i.y+i.vertOffset+i.shapeHeight)*r)+n;t.moveTo(l,c),t.lineTo(o,s),t.lineTo(l,d),this._drawCorner(t,l,u,f.a.rightDown,r),this._drawCorner(t,h,u,f.a.leftDown,r),this._drawCorner(t,h,c,f.a.leftUp,r),t.lineTo(l,c)},e.prototype._getArrowSize=function(t){return t.stepX/Math.sqrt(2)},e.prototype._getHorizontalTextOffset=function(t){return-t.shapeWidth/2-this._getArrowSize(t)/2},e.prototype._getVerticalTextOffset=function(t){return t.shapeHeight/2+this._getArrowSize(t)/2},e}(f.b),g=i("6ptY"),x=i("V0al"),b=i("2WC2"),m=i("gBDZ"),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}
return Object(u.c)(e,t),e.prototype.setData=function(t,e){this._setBaseData(t,e);for(var i=0,r=this._items;i<r.length;i++){var n=r[i];0===n.vertOffset&&(n.textVertOffset=0)}},e.prototype._drawItemText=function(t,e,i){var r,n=this._getTextCache(i);if(null!==n){var a=i.x,o=i.y+i.textVertOffset,s=(null===(r=i.style)||void 0===r?void 0:r.textColor)||this._textColor,l=i.vertOffset;n.paintTo(t,e,s,a,o,m.a.Center,l>0?m.c.Top:m.c.Bottom)}},e.prototype._calcBoundingBox=function(t){var e=t.vertOffset,i=this._getTextCache(t);if(i){var r=i.textImageWidth,n=i.textImageHeight,a=r/2,o=t.y+t.textVertOffset,s=e>0?0:-n,l=e>0?n:0,c=new p.Point(t.x-a,o+s),d=new p.Point(t.x+a,o+l);return Object(p.box)(c,d)}},e}(b.a),R=i("vaiT"),P=i("23IT"),S=i("tS10"),O=i("Eyy1");i.d(e,"DwgLabelPaneView",(function(){return B}));var L,C=((r={})[R.b.Left]="left",r[R.b.Center]="center",r[R.b.Right]="right",r);!function(t){t.NORMAL_SIZE=50,t.AUTO_SIZE_MULT=1,t.SHAPE_HEIGHT_MULT=.5,t.SHAPE_WIDTH_MULT=.6,t.FONT_SIZE_MULT=.24}(L||(L={}));var B=function(){function t(t,e,i){this._rendererTypeByStyle=new Map([[R.a.Arrowdown,o.PaneRendererArrowDown],[R.a.Arrowup,o.PaneRendererArrowUp],[R.a.Circle,s.PaneRendererCircleShape],[R.a.Cross,l.PaneRendererCrossShape],[R.a.Diamond,c.PaneRendererDiamond],[R.a.Flag,d.PaneRendererFlagShape],[R.a.LabelDown,h.PaneRendererLabelDown],[R.a.LabelUp,h.PaneRendererLabelUp],[R.a.LabelLeft,h.PaneRendererLabelLeft],[R.a.LabelRight,h.PaneRendererLabelRight],[R.a.LabelCenter,h.PaneRendererLabelCenter],[R.a.LabelLeftUp,_],[R.a.LabelLeftDown,v],[R.a.LabelRightUp,y],[R.a.LabelRightDown,w],[R.a.Square,g.PaneRendererSquare],[R.a.Triangleup,a.PaneRendererTriangleApexUp],[R.a.Triangledown,a.PaneRendererTriangleApexDown],[R.a.Xcross,x.PaneRendererXCross],[R.a.None,T]]),this._invalidated=!0,this._graphicsProvider=t,this._model=e,this._renderer=new n.CompositeRenderer,this._textCache=new S.a(5e3)}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(){return this._invalidated&&(this._invalidated=!1,this._updateViewInternal(this._model.timeScale().barSpacing())),this._renderer},t.prototype._updateViewInternal=function(t){var e=this;this._renderer.clear();var i=this._graphicsProvider.priceScale(),r=this._model.timeScale();if(i&&!i.isEmpty()&&!r.isEmpty()){var n=this._graphicsProvider.graphics().dwglabels(),a=r.visibleBarsStrictRange(),o=this._graphicsProvider.firstValue();if(0!==n.size&&null!==a&&null!==o){var s=a.firstBar(),l=a.lastBar(),c=Math.round(t*L.AUTO_SIZE_MULT),d=null,h=[];n.forEach((function(t,r){e._graphicsProvider.properties().graphics.dwglabels[r].visible.value()&&t.forEach((function(t){var r=t.x;if(!(r<s||l<r)){var n=e._graphicsProvider.properties().palettes;if(void 0!==n&&void 0!==n.palette_common){var a=n.palette_common,u=null===t.colorIndex?null:a.colors[t.colorIndex],p=null===t.textColorIndex?null:a.colors[t.textColorIndex];if(void 0!==u&&void 0!==p){var f=null===u?void 0:u.color.value(),v=null===p?void 0:p.color.value();if(void 0!==f||void 0!==v){
var _,w=t.size,y=t.style,g=e._calculateLabelHeight(L.NORMAL_SIZE,w,c),x=e._getInvertedYloc(t.yloc,i.isInverted()),b=void 0===v?"":t.text,m=C[t.textAlign],T=t.tooltip,R=e._getLocationData({index:r,price:t.y,yloc:x,size:g,style:y,firstValue:o,hideShape:void 0===f}),P={x:R.x0,y:R.y0,width:R.shapeWidth,height:R.shapeHeight,vertOffset:R.vertOffset,text:b,fontSize:R.fontSize,style:{color:f,borderColor:f,textColor:v},textAlign:m,tooltip:T};R.style!==d?(_={items:[],style:R.style},h.push(_),d=R.style):_=h[h.length-1],_.items.push(P)}}}}}))})),h.forEach((function(i){var r=new(Object(O.ensureDefined)(e._rendererTypeByStyle.get(i.style)))({items:i.items,barSpacing:t},{textCache:e._textCache,skipRenderingOptimizations:!0});e._renderer.append(r)}))}}},t.prototype._getLocationData=function(t){var e=L,i=t.size*e.FONT_SIZE_MULT,r=this._model.timeScale(),n=this._graphicsProvider.priceScale(),a=r.indexToCoordinate(t.index),o=NaN;if(t.yloc===R.c.Price)o=n.priceToCoordinate(t.price,t.firstValue);else{var s=t.yloc===R.c.AboveBar?2:3,l=this._graphicsProvider.series().bars().valueAt(t.index);if(null!==l){var c=l[s];null!=c&&(o=n.priceToCoordinate(c,t.firstValue))}}var d=t.size*e.SHAPE_WIDTH_MULT,h=t.size*e.SHAPE_HEIGHT_MULT;return{x0:a,y0:o,shapeWidth:d,shapeHeight:h,vertOffset:-1.5*h*this._getYLocSign(t.yloc),fontSize:i,style:t.hideShape?R.a.None:t.style}},t.prototype._getYLocSign=function(t){return t===R.c.Price?0:t===R.c.AboveBar?1:-1},t.prototype._getInvertedYloc=function(t,e){if(e){if(t===R.c.AboveBar)return R.c.BelowBar;if(t===R.c.BelowBar)return R.c.AboveBar}return t},t.prototype._calculateLabelHeight=function(t,e,i){var r=i;switch(e){case P.PlotSymbolSize.Tiny:r=.6*t;break;case P.PlotSymbolSize.Small:r=.8*t;break;case P.PlotSymbolSize.Normal:r=t;break;case P.PlotSymbolSize.Large:r=1.5*t;break;case P.PlotSymbolSize.Huge:r=2*t}return r},t}()},Kt0C:function(t,e,i){"use strict";i.r(e),i.d(e,"LinePaneView",(function(){return c}));var r=i("Eyy1"),n=i("aO4+"),a=i("VdBB"),o=i("Zy3/"),s=i("a7Ha"),l=i("pJOz"),c=function(){function t(t,e,i){this._data=[],this._invalidated=!0,this._provider=t,this._model=e,this._hitTestResult=void 0!==i?new a.HitTestResult(a.HitTestResult.CUSTOM,i):new a.HitTestResult(a.HitTestResult.REGULAR)}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(){this._invalidated&&(this._updateViewInternal(),this._invalidated=!1);for(var t=new o.CompositeRenderer,e=0,i=this._data;e<i.length;e++){var r=i[e],n=new l.TrendLineRenderer;n.setData(r),n.setHitTest(this._hitTestResult),t.append(n)}return t},t.prototype._updateViewInternal=function(){var t=this;this._data=[];var e=this._provider.priceScale(),i=this._model.timeScale();if(e&&!e.isEmpty()&&!i.isEmpty()){var a=this._provider.graphics().lines();if(0!==a.size){var o=this._model.timeScale().visibleBarsStrictRange();if(null!==o){var l=this._provider.firstValue();if(null!==l){var c=o.firstBar(),d=o.lastBar();a.forEach((function(a,o){var h=t._provider.properties().graphics.lines[o];h.visible.value()&&a.forEach((function(a){
var o=a.startIndex+(a.startOffset||0),u=a.endIndex+(a.endOffset||0);if(!(Math.max(o,u)<c||Math.min(o,u)>d)){var p=i.indexToCoordinate(o),f=i.indexToCoordinate(u),v=e.priceToCoordinate(Object(r.ensureDefined)(a.startPrice),l),_=e.priceToCoordinate(Object(r.ensureDefined)(a.endPrice),l),w=new n.Point(p,v),y=new n.Point(f,_);t._data.push({points:[w,y],extendleft:!1,extendright:!1,leftend:s.LineEnd.Normal,rightend:s.LineEnd.Normal,color:h.color.value(),linewidth:h.width.value(),linestyle:h.style.value()})}}))}))}}}}},t}()},PztT:function(t,e,i){"use strict";i.r(e);var r=i("mrSG"),n=i("aO4+"),a=i("tSCe"),o=i.n(a),s=i("2tp3"),l=i("GEp6"),c=i("VdBB"),d=i("jFln"),h=i("Zp/P"),u=i("ikwP");function p(t){return t*this.width}var f=function(){function t(t){this._locs=t}return t.prototype.draw=function(t,e){var i=this;t.lineCap="butt",Object(u.drawScaled)(t,e.pixelRatio,(function(){i._locs.forEach((function(e){var r=e.style,n=r.type.dashPattern.map(p,r);t.strokeStyle=r.color,t.lineWidth=r.width,Object(d.setLineDash)(t,n),t.beginPath(),i._drawShape(t,e),t.stroke()}))}))},t.prototype.hitTest=function(t){for(var e=0,i=this._locs;e<i.length;e++){var r=i[e],n=r.style.width/2;if(Object(l.distanceToSegment)(r.extP1,r.extP2,t).distance<=n)return new c.HitTestResult(c.HitTestResult.REGULAR)}return null},t.prototype._drawShape=function(t,e){t.moveTo(e.extP1.x,e.extP1.y),t.lineTo(e.extP2.x,e.extP2.y);var i=e.style.width;e.style.type.drawLeftArrow&&this._drawArrow(t,e.p2,e.p1,i),e.style.type.drawRightArrow&&this._drawArrow(t,e.p1,e.p2,i)},t.prototype._drawArrow=function(t,e,i,r){if(!(i.subtract(e).length()<1))for(var n=0,a=Object(h.getArrowPoints)(e,i,r,!0);n<a.length;n++){var o=a[n];t.moveTo(o[0].x,o[0].y),t.lineTo(o[1].x,o[1].y)}},t}(),v=i("hBTJ");function _(t,e,i){var r=function(t,e,i){var r=e.subtract(t);return i.subtract(t).dotProduct(r)/r.dotProduct(r)}(t.extP1,t.extP2,e),n=t.extP1.add(t.extP2.subtract(t.extP1).scaled(r));r<0&&i.left?t.extP1=n:r>1&&i.right&&(t.extP2=n)}i.d(e,"DwgLinePaneView",(function(){return w}));var w=function(t){function e(e,i,r){var n=t.call(this)||this;return n._invalidated=!0,n._graphicsProvider=e,n._model=i,n._renderer=null,n}return Object(r.c)(e,t),e.prototype.update=function(){this._invalidated=!0},e.prototype.renderer=function(){return this._invalidated&&(this._renderer=null,this._invalidated=!1,this._updateRenderer()),this._renderer},e.prototype._updateRenderer=function(){var t=this,e=this._graphicsProvider.priceScale(),i=this._model.timeScale();if(e&&!e.isEmpty()&&!i.isEmpty()){var r=this._graphicsProvider.graphics().dwglines();if(0!==r.size)if(null!==this._model.timeScale().visibleBarsStrictRange()){var a=this._graphicsProvider.properties().palettes;if(void 0!==a&&void 0!==a.palette_common){var o=a.palette_common,l=this._graphicsProvider.firstValue();if(null!==l){var c=i.width(),d=e.height(),h=[];r.forEach((function(r,a){t._graphicsProvider.properties().graphics.dwglines[a].visible.value()&&r.forEach((function(r){if(null!==r.colorIndex){var a=o.colors[r.colorIndex];if(void 0!==a){
var u=i.indexToCoordinate(r.x1),p=e.priceToCoordinate(r.y1,l),f=i.indexToCoordinate(r.x2),v=e.priceToCoordinate(r.y2,l),_={width:r.width>0?r.width:1,color:a.color.value(),type:Object(s.c)(r.style)},w=t._getLocationData(new n.Point(u,p),new n.Point(f,v),r.extend,c,d,_);null!==w&&h.push(w)}}}))})),this._renderer=new f(h)}}}}},e.prototype._getLocationData=function(t,e,i,r,a,o){var l=function(t){return{left:t===s.a.Both||t===s.a.Left,right:t===s.a.Both||t===s.a.Right}}(i),c={p1:t,p2:e,extP1:t,extP2:e,style:o};l.left&&!l.right&&(c.extP1=e,c.extP2=t,l.left=!1,l.right=!0);var d=[new n.Point(0,0),new n.Point(0,a),new n.Point(r,a),new n.Point(r,0)];!function(t,e,i){for(var r=0,n=e;r<n.length;r++){_(t,n[r],i)}}(c,d,l);var h=function(t,e,i){var r=.5*i,n=e.subtract(t).normalized().transposed().scaled(r),a=t.add(n),o=e.add(n),s=t.subtract(n);return[a,o,e.subtract(n),s]}(c.extP1,c.extP2,o.width);return null===Object(v.intersectPolygons)(d,h)?null:c},e}(o.a)},aS5C:function(t,e,i){"use strict";i.r(e),i.d(e,"DwgTablePaneView",(function(){return _}));var r=i("Eyy1"),n=i("aO4+"),a=i("8Uy/"),o=i("zDbI"),s=i("Zy3/"),l=i("a7Ha"),c=i("IjC5"),d=i("qgcf"),h=i("pJOz"),u=i("u+0B"),p=i("XlJ7"),f=i("23IT"),v=new Map;v.set(f.PlotSymbolSize.Auto,14),v.set(f.PlotSymbolSize.Tiny,8),v.set(f.PlotSymbolSize.Small,10),v.set(f.PlotSymbolSize.Normal,14),v.set(f.PlotSymbolSize.Large,20),v.set(f.PlotSymbolSize.Huge,36);var _=function(){function t(t,e,i){this._invalidated=!0,this._widthsCache=new u.TextWidthCache,this._data=[],this._source=t,this._model=e,this._measureCanvas=document.createElement("canvas"),this._measureCtx=Object(r.ensureNotNull)(this._measureCanvas.getContext("2d")),this._measureCtx.font=Object(p.makeFont)(14,o.CHART_FONT_FAMILY)}return t.prototype.renderer=function(){var t=this;this._invalidated&&(this._invalidated=!1,this._updateViewInternal());var e=new s.CompositeRenderer;return this._data.forEach((function(i){e.append(t._tableRenderer(i))})),e},t.prototype.update=function(){this._invalidated=!0},t.prototype._tableRenderer=function(t){var e=new s.CompositeRenderer,i={backcolor:"magenta",color:"blue",fillBackground:!0,linewidth:3,extendLeft:!1,extendRight:!1,points:t.position},r=new c.RectangleRenderer;r.setData(i),e.append(r);for(var u=0;u<t.table.columns-1;u++){var f=t.left+t.columnsOffsets[u],v=t.columnWidths[u],_={color:"green",linewidth:1,linestyle:a.LINESTYLE_SOLID,extendleft:!1,extendright:!1,leftend:l.LineEnd.Normal,rightend:l.LineEnd.Normal,points:[new n.Point(f+v,t.top),new n.Point(f+v,t.top+t.totalHeight)]};(y=new h.TrendLineRenderer).setData(_),e.append(y)}for(var w=0;w<t.table.rows-1;w++){var y,g=t.top+t.rowsOffsets[w],x=t.rowHeights[w];_={color:"red",linewidth:1,linestyle:a.LINESTYLE_SOLID,extendleft:!1,extendright:!1,leftend:l.LineEnd.Normal,rightend:l.LineEnd.Normal,points:[new n.Point(t.left,g+x),new n.Point(t.left+t.totalWidth,g+x)]};(y=new h.TrendLineRenderer).setData(_),e.append(y)}return t.cells.forEach((function(i){
var r=t.left+t.columnsOffsets[i.cell.column],a=t.top+t.rowsOffsets[i.cell.row],s=t.columnWidths[i.cell.column],l=t.rowHeights[i.cell.row],h={backcolor:"white",color:"blue",fillBackground:!0,linewidth:0,extendLeft:!1,extendRight:!1,points:[new n.Point(r,a),new n.Point(r+s,a+l)]},u=new c.RectangleRenderer;u.setData(h),e.append(u);var f={points:[new n.Point(r+s/2,a+l/2)],text:i.cell.text,color:"blue",vertAlign:"middle",horzAlign:"center",font:Object(p.makeFont)(14,o.CHART_FONT_FAMILY),offsetX:0,offsetY:0};e.append(new d.TextRenderer(f))})),e},t.prototype._updateViewInternal=function(){var t=this;this._data=[];var e=this._source.graphics().dwgtables(),i=this._source.graphics().dwgcells(),r=new Map;i.forEach((function(t,e){t.forEach((function(t){var i=r.get(t.tableId)||[];i.push({cell:t,styleId:e}),r.set(t.tableId,i)}))})),e.forEach((function(e,i){e.forEach((function(e){t._data.push({table:e,styleId:i,cells:r.get(e.id)||[],columnWidths:[],rowHeights:[],rowsOffsets:[],columnsOffsets:[],totalHeight:0,totalWidth:0,position:[new n.Point(0,0),new n.Point(0,0)],left:0,top:0})}))})),this._calculateSizes()},t.prototype._calculateSizes=function(){var t=this,e=Object(r.ensureNotNull)(this._model.paneForSource(this._source));this._data.forEach((function(i){i.columnWidths=Array.from({length:i.table.columns},(function(){return 0})),i.rowHeights=Array.from({length:i.table.rows},(function(){return 0})),i.columnsOffsets=[],i.rowsOffsets=[],i.cells.forEach((function(r){var n=t._cellWidth(e,r,i),a=t._cellHeight(e,r,i);i.columnWidths[r.cell.column]=Math.max(i.columnWidths[r.cell.column],n),i.rowHeights[r.cell.row]=Math.max(i.rowHeights[r.cell.row],a)})),i.totalWidth=i.columnWidths.reduce((function(t,e){return t+e}),0),i.totalHeight=i.rowHeights.reduce((function(t,e){return t+e}),0);for(var r=0,n=0;n<i.table.columns;n++)i.columnsOffsets.push(r),r+=i.columnWidths[n];for(var a=0,o=0;o<i.table.rows;o++)i.rowsOffsets.push(a),a+=i.rowHeights[o];t._calculatePosition(e,i)}))},t.prototype._calculatePosition=function(t,e){switch(e.table.position[0]){case"t":e.top=10;break;case"m":e.top=(t.height()-e.totalHeight)/2;break;case"b":e.top=t.height()-10-e.totalHeight}switch(e.table.position[1]){case"l":e.left=10;break;case"c":e.left=(t.width()-e.totalWidth)/2;break;case"r":e.left=t.width()-e.totalWidth-10}e.position=[new n.Point(e.left,e.top),new n.Point(e.left+e.totalWidth,e.top+e.totalHeight)]},t.prototype._cellWidth=function(t,e,i){return e.cell.widthInPercentsOfPaneWidth?t.width()*e.cell.widthInPercentsOfPaneWidth/100:this._widthsCache.measureText(this._measureCtx,e.cell.text)+2*i.table.borderWidth},t.prototype._cellHeight=function(t,e,i){return e.cell.heightInPercentOfPaneHeight?t.height()*e.cell.heightInPercentOfPaneHeight/100:Object(r.ensureDefined)(v.get(e.cell.fontSize))+2*i.table.borderWidth},t}()},cPgM:function(t,e,i){"use strict";i.r(e),i.d(e,"ScaledPaneRenderer",(function(){return n})),i.d(e,"ScaledPaneRendererWrapper",(function(){return a}));var r=i("mrSG"),n=function(){function t(){}return t.prototype.draw=function(t,e){t.save(),
t.scale(e.pixelRatio,e.pixelRatio),t.translate(.5,.5),this._drawImpl(t,Object(r.a)(Object(r.a)({},e),{pixelRatio:1})),t.restore()},t.prototype.drawBackground=function(t,e){t.save(),t.scale(e.pixelRatio,e.pixelRatio),t.translate(.5,.5),this._drawBackgroundImpl(t,Object(r.a)(Object(r.a)({},e),{pixelRatio:1})),t.restore()},t.prototype._drawBackgroundImpl=function(t,e){},t}(),a=function(){function t(t){this._base=t}return t.prototype.hitTest=function(t,e){return this._base.hitTest(t,e)},t.prototype.draw=function(t,e){t.save(),t.scale(e.pixelRatio,e.pixelRatio),t.translate(.5,.5),this._base.draw(t,Object(r.a)(Object(r.a)({},e),{pixelRatio:1})),t.restore()},t.prototype.drawBackground=function(t,e){t.save(),t.scale(e.pixelRatio,e.pixelRatio),t.translate(.5,.5),this._base.drawBackground&&this._base.drawBackground(t,Object(r.a)(Object(r.a)({},e),{pixelRatio:1})),t.restore()},t}()},psYU:function(t,e,i){"use strict";i.r(e),i.d(e,"VertLinePaneView",(function(){return l}));var r=i("Eyy1"),n=i("VdBB"),a=i("972a"),o=i("Zy3/"),s=i("z+cS"),l=function(){function t(t,e,i){this._data=[],this._invalidated=!0,this._provider=t,this._model=e,this._hitTestResult=void 0!==i?new n.HitTestResult(n.HitTestResult.CUSTOM,i):new n.HitTestResult(n.HitTestResult.REGULAR)}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(){this._invalidated&&(this._updateViewInternal(),this._invalidated=!1);for(var t=new o.CompositeRenderer,e=0,i=this._data;e<i.length;e++){var r=i[e],n=new s.VerticalLineRenderer;n.setData(r),n.setHitTest(this._hitTestResult),t.append(n)}return t},t.prototype._updateViewInternal=function(){var t=this;this._data=[];var e=this._provider.priceScale(),i=this._model.timeScale();if(e&&!e.isEmpty()&&!i.isEmpty()){var n=this._provider.graphicsInfo().vertlines,o=this._provider.graphics().vertlines();if(0!==o.size&&void 0!==n){var s=this._model.timeScale().visibleBarsStrictRange();if(null!==s){var l=this._provider.firstValue();if(null!==l){var c=s.firstBar(),d=s.lastBar();o.forEach((function(o,s){var h=t._provider.properties().graphics.vertlines[s];if(h.visible.value()){var u=0;switch(Object(r.ensureDefined)(n[s]).halign){case a.HAlign.Left:u=-i.barSpacing()/2;break;case a.HAlign.Right:u=i.barSpacing()/2}o.forEach((function(n){var a=n.index;a<c||d<a||t._data.push({x:i.indexToCoordinate(a)+u,top:n.extendTop?void 0:e.priceToCoordinate(Object(r.ensureDefined)(n.endPrice),l),bottom:n.extendBottom?void 0:e.priceToCoordinate(Object(r.ensureDefined)(n.startPrice),l),color:h.color.value(),linewidth:h.width.value(),linestyle:h.style.value()})}))}}))}}}}},t}()},qVqd:function(t,e,i){"use strict";i.r(e);var r=i("mrSG"),n=i("Eyy1"),a=i("aO4+"),o=i("972a"),s=i("Zy3/"),l=i("f6yo"),c=i("VdBB"),d=i("ikwP"),h=function(){function t(t){this._data=t}return t.prototype.draw=function(t,e){var i=this,r="down"===this._data.direction?1:"up"===this._data.direction?-1:0,n=this._data.point.x,a=this._data.point.y;Object(d.drawScaled)(t,e.pixelRatio,(function(){t.fillStyle=i._data.color,t.beginPath(),
t.arc(n+1,a+2*i._data.size*r,i._data.size,0,2*Math.PI),t.closePath(),t.fill(),t.stroke()}))},t.prototype.hitTest=function(t){var e="down"===this._data.direction?1:"up"===this._data.direction?-1:0,i=new a.Point(this._data.point.x+.5,this._data.point.y+.5+2*this._data.size*e);return Object(l.pointInCircle)(t,i,this._data.size)?new c.HitTestResult(c.HitTestResult.REGULAR):null},t}(),u=function(){function t(t){this._data=t}return t.prototype.draw=function(t,e){var i="down"===this._data.direction?1:"up"===this._data.direction?-1:0,r=this._data.size,n=new a.Point(this._data.point.x-r/2,this._data.point.y-r/2+i*r),o=new a.Point(this._data.point.x+r/2,this._data.point.y+r/2+i*r).subtract(n),s=e.pixelRatio,l=Math.max(1,Math.floor(s)),c=l/2,d=l%2?.5:0,h=Math.round(n.x*s)+d,u=Math.round((n.x+o.x)*s)+d,p=Math.round(n.y*s)+d,f=Math.round((n.y+o.y)*s)+d;t.beginPath(),t.fillStyle=this._data.color,t.rect(h+c,p+c,u-h-l,f-p-l),t.fill(),t.lineWidth=l,t.beginPath(),t.rect(h,p,u-h,f-p),t.stroke()},t.prototype.hitTest=function(t){var e="down"===this._data.direction?1:"up"===this._data.direction?-1:0,i=this._data.size,r=new a.Point(this._data.point.x-i/2,this._data.point.y-i/2+e*i),n=new a.Point(this._data.point.x+i/2,this._data.point.y+i/2+e*i);return Object(l.pointInBox)(t,Object(a.box)(r,n))?new c.HitTestResult(c.HitTestResult.REGULAR):null},t}(),p=function(){function t(t,e){this._data=t,this._arrowDirection=e}return t.prototype.draw=function(t,e){var i=this._arrowDirection,r=this._data.size,n=this._data.color,a=this._data.point.x+1,o=this._data.point.y,s=1.1*r;switch(i){case"up":o-=s;break;case"down":o+=s}var l=r/6,c=r/4,h=r/3,u=r/2,p=.6666666*r;Object(d.drawScaled)(t,e.pixelRatio,(function(){switch(t.fillStyle=n,t.beginPath(),i){case"up":t.moveTo(a,o),t.lineTo(a-u,o+p),t.lineTo(a-c,o+p),t.lineTo(a,o+h),t.lineTo(a+c,o+p),t.lineTo(a+u,o+p),t.lineTo(a,o);break;case"down":t.moveTo(a,o+r),t.lineTo(a-u,o+h),t.lineTo(a-c,o+h),t.lineTo(a,o+p),t.lineTo(a+c,o+h),t.lineTo(a+u,o+h),t.lineTo(a,o+r);break;case"right":t.moveTo(a+l,o),t.lineTo(a-l,o-c),t.lineTo(a-l,o+c),t.lineTo(a+l,o);break;case"left":t.moveTo(a-l,o),t.lineTo(a+l,o-c),t.lineTo(a+l,o+c),t.lineTo(a-l,o)}t.closePath(),t.fill(),t.stroke()}))},t.prototype.hitTest=function(t){var e=this._hitTriangle(),i=e[0],r=e[1],n=e[2];return Object(l.pointInTriangle)(t,i,r,n)?new c.HitTestResult(c.HitTestResult.REGULAR):null},t.prototype._hitTriangle=function(){var t=this._data.point.x,e=this._data.point.y,i=this._arrowDirection,r=this._data.size,n=1.1*r;switch(i){case"up":e-=n;break;case"down":e+=n}var o=r/6,s=r/4,l=r/3,c=r/2,d=.6666666*r;switch(i){case"up":return[new a.Point(t,e),new a.Point(t+c,e+d),new a.Point(t-c,e+d)];case"down":return[new a.Point(t,e+r),new a.Point(t+c,e+l),new a.Point(t-c,e+l)];case"right":return[new a.Point(t+o,e),new a.Point(t-o,e-s),new a.Point(t-o,e+s)];case"left":return[new a.Point(t-o,e),new a.Point(t+o,e-s),new a.Point(t+o,e+s)]}},t}(),f=i("tSCe"),v=i.n(f),_=i("Tmoa"),w=i("txPx");i.d(e,"ShapeMarkPaneView",(function(){return g}))
;var y=Object(w.getLogger)("Chart.ShapeMarkPaneView"),g=function(t){function e(e,i,r){var n=t.call(this)||this;return n._data=[],n._invalidated=!0,n._provider=e,n._model=i,n._data=[],n}return Object(r.c)(e,t),e.prototype.update=function(){this._invalidated=!0},e.prototype.renderer=function(){this._invalidated&&(this._updateViewInternal(),this._invalidated=!1);for(var t=new s.CompositeRenderer,e=0,i=this._data;e<i.length;e++){var r=i[e];switch(r.shape){case"circle":t.append(new h(r));break;case"square":t.append(new u(r));break;case"arrowUp":t.append(new p(r,"up"));break;case"arrowDown":t.append(new p(r,"down"));break;case"arrowRight":t.append(new p(r,"right"));break;case"arrowLeft":t.append(new p(r,"left"))}}return t},e.prototype._updateViewInternal=function(){var t=this;this._data=[];var e=this._provider.priceScale(),i=this._model.timeScale();if(e&&!e.isEmpty()&&!i.isEmpty()){var r=this._provider.graphics().shapemarks();if(0!==r.size){var n=this._model.timeScale().visibleBarsStrictRange();if(null!==n){var o=this._provider.firstValue();if(null!==o){var s=n.firstBar(),l=n.lastBar();r.forEach((function(r,n){var c=t._provider.properties().graphics.shapemarks[n];c.visible.value()&&r.forEach((function(r){var n=r.time;if(!(n<s||l<n)&&null!==t._provider.series().bars().valueAt(n)){var d="left"===c.halign.value()?-(i.barSpacing()/2+1):"right"===c.halign.value()?i.barSpacing()/2+1:0,h=c.location.value(),u=c.shape.value(),p=parseInt(c.size.value()),f=Object(_.generateColor)(c.color.value(),c.transparency.value()),v=t._calcCoordsForShape(h,n,p,r.price,o,e,i),w=v.x,y=v.y,g=v.direction;switch(u){case"circle":case"square":t._data.push({shape:u,color:f,direction:g,point:new a.Point(w+d,y),size:p});break;case"arrowUp":case"arrowDown":case"arrowRight":case"arrowLeft":t._data.push({shape:u,color:f,point:new a.Point(w+d,y),size:p})}}}))}))}}}}},e.prototype._calcCoordsForShape=function(t,e,i,r,a,s,l){var c=Math.round(l.indexToCoordinate(e));switch(t){case o.MarkLocation.Absolute:return{x:c,y:s.priceToCoordinate(Object(n.ensureDefined)(r),a),direction:""};case o.MarkLocation.AbsoluteDown:return{x:c,y:s.priceToCoordinate(Object(n.ensureDefined)(r),a),direction:"down"};case o.MarkLocation.AbsoluteUp:return{x:c,y:s.priceToCoordinate(Object(n.ensureDefined)(r),a),direction:"up"};case o.MarkLocation.AboveBar:return{x:c,y:this._locationToY(t,e,Math.floor(2*i/l.barSpacing())+1),direction:"up"};case o.MarkLocation.BelowBar:return{x:c,y:this._locationToY(t,e,Math.floor(2*i/l.barSpacing())+1),direction:"down"};default:return y.logWarn("Bad location value: "+t),{x:c,y:this._locationToY(o.MarkLocation.AbsoluteUp,e),direction:"up"}}},e}(v.a)},rvCT:function(t,e,i){"use strict";i.r(e),i.d(e,"LinearRegressionPaneView",(function(){return f}));var r=i("mrSG"),n=i("Eyy1"),a=i("aO4+"),o=i("VdBB"),s=i("Tmoa"),l=i("Zy3/"),c=i("NN6M"),d=i("pJOz"),h=i("qgcf"),u=i("a7Ha"),p=i("zDbI"),f=function(){function t(t,e){this._invalidated=!0,this._lines=[],this._pearsonsTextRenderer=new h.TextRenderer,this._pearsons=null,this._model=t,this._source=e}
return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);for(var t=new l.CompositeRenderer,e=[this._lines[1],this._lines[0],this._lines[2]],i=[],n=0,a=e;n<a.length;n++){var h=a[n];h&&i.push(h)}for(var u=1;u<i.length;u++){var p={points:[e[u].floatPoints[0],e[u].floatPoints[1],e[u-1].floatPoints[0],e[u-1].floatPoints[1]],color:e[u].color,linewidth:e[u].linewidth,linestyle:e[u].linestyle,extendleft:!1,extendright:e[u].extendright,backcolor:e[u].color,transparency:this._source.properties().styles.transparency.value(),skipLines:!0,fillBackground:!0,showMidline:!1};(_=new c.ParallelChannelRenderer(new o.HitTestResult(o.HitTestResult.REGULAR),new o.HitTestResult(o.HitTestResult.REGULAR))).setData(p),t.append(_)}for(var f=0,v=function(t){return t.map((function(t){var e=Object(r.a)({},t);return e.color=Object(s.resetTransparency)(e.color),e}))}(this._lines);f<v.length;f++){var _,w=v[f];(_=new d.TrendLineRenderer).setData(w),_.setHitTest(new o.HitTestResult(o.HitTestResult.REGULAR)),t.append(_)}return this._pearsons&&(this._pearsons.color=Object(s.resetTransparency)(this._pearsons.color),this._pearsonsTextRenderer.setData(this._pearsons),t.append(this._pearsonsTextRenderer)),t},t.prototype._updateImpl=function(){if(this._lines=[],this._pearsons=null,this._source.properties().visible.value()){var t=this._model.timeScale(),e=this._source.priceScale(),i=this._model.mainSeries().firstBar();if(e&&!e.isEmpty()&&!t.isEmpty()&&i){var r=this._source.startIndex(),o=this._source.endIndex();if(null!==r&&null!==o){for(var s=[this._source.baseLine(),this._source.downLine(),this._source.upLine()],l=Math.round(t.indexToCoordinate(r)),c=Math.round(t.indexToCoordinate(o)),d=this._source.properties(),h=[d.styles.baseLine,d.styles.downLine,d.styles.upLine],f=i[TradingView.CLOSE_PLOT],v=0;v<s.length;v++)if(h[v].visible.value()){var _=Object(n.ensureNotNull)(s[v]).startPrice,w=Object(n.ensureNotNull)(s[v]).endPrice;if(void 0!==_&&void 0!==w){var y=e.priceToCoordinate(_,f),g=e.priceToCoordinate(w,f),x=new a.Point(l,y),b=new a.Point(c,g),m=h[v].color.value(),T=h[v].linewidth.value(),R=h[v].linestyle.value(),P={floatPoints:[x,b],width:this._model.timeScale().width(),height:Object(n.ensureNotNull)(this._source.priceScale()).height(),color:m,linewidth:T,linestyle:R,extendleft:!1,extendright:d.styles.extendLines.value(),leftend:u.LineEnd.Normal,rightend:u.LineEnd.Normal};this._lines.push(P)}}var S=Object(n.ensureNotNull)(this._source.downLine());if(d.styles.showPearsons.value()&&void 0!==S.startPrice){var O=e.priceToCoordinate(S.startPrice,f),L=new a.Point(l,O);this._pearsons={points:[L],text:""+this._source.pearsons(),color:d.styles.downLine.color.value(),vertAlign:"top",horzAlign:"center",font:p.CHART_FONT_FAMILY,offsetX:0,offsetY:4,fontsize:12}}}}}},t}()},tSCe:function(t,e,i){"use strict";var r=i("Hr11"),n=r.min,a=r.max,o=i("972a").MarkLocation;function s(){}s.prototype._locationToY=function(t,e,i){i||(i=0);var r,s=[],l=this._provider.priceScale();switch(t){
case o.AboveBar:r=TradingView.HIGH_PLOT;break;case o.BelowBar:r=TradingView.LOW_PLOT}var c=this._provider.firstValue();i>=1&&(i-=1);for(var d=-i;d<=i;d++){var h=this._provider.series().bars().valueAt(e+d);if(null!==h){var u=h[r];s.push(l.priceToCoordinate(u,c))}}switch(t){case o.AboveBar:return n(s)-15;case o.BelowBar:return a(s)+15}},t.exports=s}}]);